<?xml version="1.0" encoding="UTF-8" ?>
<XMLDB PATH="local/mp_report/db" VERSION="20101203" COMMENT="XMLDB file for Moodle local/mp_report"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="../../../lib/xmldb/xmldb.xsd"
>
  <TABLES>
    <TABLE NAME="accident_report" COMMENT="Accident Report Table">
      <FIELDS>
        <FIELD NAME="id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" NEXT="user_id"/>
        <FIELD NAME="user_id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="false" PREVIOUS="id" NEXT="user_name"/>
        <FIELD NAME="user_address" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_name" NEXT="user_postcode"/>
        <FIELD NAME="user_postcode" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_address" NEXT="user_occupation"/>
        <FIELD NAME="user_occupation" TYPE="char" LENGTH="250" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_postcode" NEXT="user_occupation"/>
        <FIELD NAME="user_contract" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_occupation" NEXT="user_contract"/>
        <FIELD NAME="user_manager" TYPE="char" LENGTH="256" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_contract" NEXT="user_date"/>
        <FIELD NAME="user_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_manager" NEXT="victim_name"/>
        <FIELD NAME="victim_name" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="user_date" NEXT="victim_address"/>
        <FIELD NAME="victim_address" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="victim_name" NEXT="victim_postcode"/>
        <FIELD NAME="victim_postcode" TYPE="char" LENGTH="20" NOTNULL="false" SEQUENCE="false" PREVIOUS="victim_address" NEXT="victim_occupation"/>
        <FIELD NAME="victim_occupation" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="victim_postcode" NEXT="accident_report_number"/>
        <FIELD NAME="accident_report_number" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="victim_occupation" NEXT="accident_date"/>
        <FIELD NAME="accident_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_report_number" NEXT="accident_time"/>
        <FIELD NAME="accident_time" TYPE="char" LENGTH="20" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_date" NEXT="accident_place"/>
        <FIELD NAME="accident_place" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_time" NEXT="accident_reason"/>
        <FIELD NAME="accident_reason" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_place" NEXT="accident_detail"/>
        <FIELD NAME="accident_detail" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_reason" NEXT="accident_witnesses"/>
        <FIELD NAME="accident_witnesses" TYPE="char" LENGTH="20" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_detail" NEXT="witnesses_name"/>
        <FIELD NAME="witnesses_name" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="accident_witnesses" NEXT="witnesses_address"/>
        <FIELD NAME="witnesses_address" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_name" NEXT="witnesses_phone_number"/>
        <FIELD NAME="witnesses_phone_number" TYPE="char" LENGTH="50" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_address" NEXT="witnesses_report_details"/>
        <FIELD NAME="witnesses_report_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_phone_number" NEXT="witnesses_report_diagram"/>
        <FIELD NAME="witnesses_report_details" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_phone_number" NEXT="witnesses_report_diagram"/>
        <FIELD NAME="witnesses_report_diagram" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_1" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_2" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_3" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_4" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_5" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="photo_6" TYPE="char" LENGTH="255" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_details" NEXT="mgt_review_report_date"/>
        <FIELD NAME="mgt_review_report_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="witnesses_report_diagram" NEXT="mgt_review_status"/>
        <FIELD NAME="mgt_review_status" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="mgt_review_report_date" NEXT="mgt_review_comments"/>
        <FIELD NAME="mgt_review_comments" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="mgt_review_status" NEXT="s_mgt_rpt_name"/>
        <FIELD NAME="s_mgt_rpt_name" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="mgt_review_comments" NEXT="s_mgt_rpt_report_date"/>
        <FIELD NAME="s_mgt_rpt_report_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_name" NEXT="s_mgt_rpt_comments"/>
        <FIELD NAME="s_mgt_rpt_comments" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_report_date" NEXT="s_mgt_rpt_f_action"/>
        <FIELD NAME="s_mgt_rpt_f_action" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_comments" NEXT="s_mgt_rpt_f_a_comment"/>
        <FIELD NAME="s_mgt_rpt_f_a_comment" TYPE="text" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_f_action" NEXT="s_mgt_rpt_a_b_completed"/>
        <FIELD NAME="s_mgt_rpt_a_b_completed" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_f_a_comment" NEXT="s_mgt_rpt_a_b_cpt_date"/>
        <FIELD NAME="s_mgt_rpt_a_b_cpt_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_a_b_completed" NEXT="s_mgt_rpt_2508_completed"/>
        <FIELD NAME="s_mgt_rpt_2508_completed" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_a_b_cpt_date" NEXT="s_mgt_rpt_2508_cpt_date"/>
        <FIELD NAME="s_mgt_rpt_2508_cpt_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_2508_completed" NEXT="s_mgt_rpt_riddor_event_clf"/>
        <FIELD NAME="s_mgt_rpt_riddor_event_clf" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_2508_cpt_date" NEXT="s_mgt_rpt_reported_en_a"/>
        <FIELD NAME="s_mgt_rpt_reported_en_a" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_riddor_event_clf" NEXT="s_mgt_rpt_reported_en_a_date"/>
        <FIELD NAME="s_mgt_rpt_reported_en_a_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_reported_en_a" NEXT="s_mgt_rpt_sr_mgr_notified"/>
        <FIELD NAME="s_mgt_rpt_sr_mgr_notified" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_reported_en_a_date" NEXT="s_mgt_rpt_sr_mgr_notified_date"/>
        <FIELD NAME="s_mgt_rpt_sr_mgr_notified_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_sr_mgr_notified" NEXT="s_mgt_rpt_in_br_informed"/>
        <FIELD NAME="s_mgt_rpt_in_br_informed" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_sr_mgr_notified_date" NEXT="s_mgt_rpt_in_br_informed_date"/>
        <FIELD NAME="s_mgt_rpt_in_br_informed_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_in_br_informed" NEXT="s_mgt_rpt_ant_closed_off"/>
        <FIELD NAME="s_mgt_rpt_ant_closed_off" TYPE="char" LENGTH="100" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_in_br_informed_date" NEXT="user_date"/>
        <FIELD NAME="s_mgt_rpt_ant_closed_off_date" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_ant_closed_off" NEXT="created_at"/>
        <FIELD NAME="submitter_to_manager" TYPE="char" LENGTH="100" DEFAULT="No" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="manager_id" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="accident_category" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="accident_treatment" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="minor_injuries" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="accident_additional_details" TYPE="char"  LENGTH="20"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="additional_details" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="root_cause" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="immediate_action" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="further_action_required" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="lost_time" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="lost_time_days" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="riddor_subcategory" TYPE="int"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="senior_manager_id" TYPE="int"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="created_at" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_ant_closed_off_date" NEXT="updated_at"/>
        <FIELD NAME="updated_at" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="created_at"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>

    <TABLE NAME="incident_report" COMMENT="Incident Report Table">
      <FIELDS>
        <FIELD NAME="id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" NEXT="user_id"/>
        <FIELD NAME="user_id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="false" PREVIOUS="id" NEXT="report_number"/>
        <FIELD NAME="report_number" TYPE="char" LENGTH="100" NOTNULL="true" SEQUENCE="false" PREVIOUS="user_id" NEXT="name"/>
        <FIELD NAME="name" TYPE="char" LENGTH="100" NOTNULL="true" SEQUENCE="false" PREVIOUS="report_number" NEXT="i_date"/>
        <FIELD NAME="i_date" TYPE="int"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="name" NEXT="contact"/>
        <FIELD NAME="contact" TYPE="int"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="i_date" NEXT="manager"/>
        <FIELD NAME="manager" TYPE="char"  LENGTH="100"  NOTNULL="false" SEQUENCE="false" PREVIOUS="contact" NEXT="i_time"/>
        <FIELD NAME="i_time" TYPE="char"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="manager" NEXT="contact"/>
        <FIELD NAME="day_night" TYPE="char"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="i_time" NEXT="location"/>
        <FIELD NAME="location" TYPE="text"    NOTNULL="false" SEQUENCE="false" PREVIOUS="day_night" NEXT="asset_id"/>
        <FIELD NAME="lone_worker" TYPE="char"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="location" NEXT="what_observe"/>
        <FIELD NAME="what_observe" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="lone_worker" NEXT="photo_1"/>
        <FIELD NAME="photo_1" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="lone_worker" NEXT="photo_2"/>
        <FIELD NAME="photo_2" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_1" NEXT="photo_3"/>
        <FIELD NAME="photo_3" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_2" NEXT="photo_4"/>
        <FIELD NAME="photo_4" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_3" NEXT="photo_5"/>
        <FIELD NAME="photo_5" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_4" NEXT="photo_6"/>
        <FIELD NAME="photo_6" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_5" NEXT="action_taken"/>
        <FIELD NAME="action_taken" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="photo_6" NEXT="what_could_happened"/>
        <FIELD NAME="what_could_happened" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="action_taken" NEXT="report_category"/>
        <FIELD NAME="report_category" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="what_could_happened" NEXT="classification"/>
        <FIELD NAME="classification" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="report_category" NEXT="categorisation"/>
        <FIELD NAME="categorisation" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="classification" NEXT="vehicles"/>
        <FIELD NAME="vehicles" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="categorisation" NEXT="equipment"/>
        <FIELD NAME="equipment" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="vehicles" NEXT="environmental"/>
        <FIELD NAME="environmental" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="equipment" NEXT="attack"/>
        <FIELD NAME="attack" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="environmental" NEXT="further_action"/>
        <FIELD NAME="further_action" TYPE="text"  NOTNULL="false" SEQUENCE="false" PREVIOUS="attack" NEXT="report_to_client"/>
        <FIELD NAME="report_to_client" TYPE="char" LENGTH="20"  NOTNULL="false" SEQUENCE="false" PREVIOUS="further_action" NEXT="report_priority"/>
        <FIELD NAME="report_priority" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="report_to_client" NEXT="emailed_to"/>
        <FIELD NAME="emailed_to" TYPE="char" LENGTH="150"  NOTNULL="false" SEQUENCE="false" PREVIOUS="report_priority" NEXT="meeting_date"/>
        <FIELD NAME="meeting_date" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="emailed_to" NEXT="added_to_rvt_calm_system"/>
        <FIELD NAME="added_to_rvt_calm_system" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" PREVIOUS="meeting_date" NEXT="created_at"/>
        <FIELD NAME="submitter_to_manager" TYPE="char" LENGTH="100" DEFAULT="No" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="manager_id" TYPE="int" LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="change_required" TYPE="char" LENGTH="40"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="details_change_required" TYPE="text" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="is_correct_report_category" TYPE="char" LENGTH="20" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="correct_report_category" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="report_closed" TYPE="char" LENGTH="20" NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="lost_time" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="lost_time_days" TYPE="text"   NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="compliance_id" TYPE="int"  LENGTH="10"  NOTNULL="false" SEQUENCE="false" />
        <FIELD NAME="created_at" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="s_mgt_rpt_ant_closed_off_date" NEXT="updated_at"/>
        <FIELD NAME="updated_at" TYPE="int" LENGTH="10" NOTNULL="false" SEQUENCE="false" PREVIOUS="created_at"/>
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>

    <TABLE NAME="standing_table" COMMENT="Incident Report Table">
      <FIELDS>
        <FIELD NAME="id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
        <FIELD NAME="report_id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="false" />
        <FIELD NAME="dropdown_name"   TYPE="char" LENGTH="150" NOTNULL="true"  SEQUENCE="false" />
        <FIELD NAME="field_value"   TYPE="char" LENGTH="250" NOTNULL="false"  SEQUENCE="false" />
        <FIELD NAME="field_status"   TYPE="int" LENGTH="11" NOTNULL="false"  SEQUENCE="false" />
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>

    <TABLE NAME="report_table " COMMENT="Incident Report Table">
      <FIELDS>
        <FIELD NAME="id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
        <FIELD NAME="name"   TYPE="char" LENGTH="150" NOTNULL="true"  SEQUENCE="false" />
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>
    </TABLE>

    <TABLE NAME="report_table_emaildata" COMMENT="Incident Report Table">
      <FIELDS>
        <FIELD NAME="id"   TYPE="int" LENGTH="10" NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
        <FIELD NAME="firstname"   TYPE="char" LENGTH="100" NOTNULL="true"  SEQUENCE="false" />
        <FIELD NAME="lastname"   TYPE="char" LENGTH="100" NOTNULL="true"  SEQUENCE="false" />
        <FIELD NAME="email"   TYPE="char" LENGTH="150" NOTNULL="true"  SEQUENCE="false" />
        <FIELD NAME="contact"   TYPE="int" LENGTH="11" DEFAULT="0" NOTNULL="true"  SEQUENCE="false" />
      </FIELDS>
      <KEYS>
        <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
      </KEYS>

    </TABLE>


  </TABLES>

</XMLDB>
